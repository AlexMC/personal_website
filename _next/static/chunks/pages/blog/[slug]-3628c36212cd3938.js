(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[492],{49937:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/[slug]",function(){return r(459)}])},17865:function(e,t,r){"use strict";function a(e){return e.startsWith("/")?"".concat("").concat(e):"".concat("","/images/").concat(e)}r.d(t,{al:function(){return a}})},459:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return y},default:function(){return j}});var a=r(85893),s=r(81884),l=r(9008),n=r.n(l),i=r(41664),c=r.n(i),o=r(17865),d=r(67294),m=r(3890);function p(e){let{embed:t}=e,[r,s]=(0,d.useState)(null);if(!t)return null;if("app.bsky.embed.images#view"===t.$type){let e=t.images||[];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid gap-2 mt-2 ".concat(1===e.length?"grid-cols-1":2===e.length?"grid-cols-2":3===e.length?"grid-cols-3":"grid-cols-2"),children:e.map((e,t)=>(0,a.jsx)("div",{className:"relative overflow-hidden rounded border border-primary/20 cursor-pointer hover:border-primary/60 transition-colors",onClick:()=>s(e),children:(0,a.jsx)("img",{src:e.thumb,alt:e.alt||"Embedded image",className:"w-full h-auto object-cover",loading:"lazy"})},t))}),r&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:()=>s(null),children:(0,a.jsxs)("div",{className:"relative max-w-7xl max-h-full",children:[(0,a.jsx)("button",{onClick:()=>s(null),className:"absolute top-4 right-4 text-white bg-black/50 rounded-full w-10 h-10 flex items-center justify-center hover:bg-black/70 transition-colors","aria-label":"Close",children:"✕"}),(0,a.jsx)("img",{src:r.fullsize,alt:r.alt||"Full size image",className:"max-w-full max-h-[90vh] object-contain"})]})})]})}if("app.bsky.embed.external#view"===t.$type){let e=t.external;return(0,a.jsxs)("a",{href:e.uri,target:"_blank",rel:"noopener noreferrer",className:"block mt-2 border border-primary/20 rounded overflow-hidden hover:border-primary/60 transition-colors no-underline",children:[e.thumb&&(0,a.jsx)("img",{src:e.thumb,alt:e.title,className:"w-full h-48 object-cover",loading:"lazy"}),(0,a.jsxs)("div",{className:"p-3 bg-white/5",children:[(0,a.jsx)("div",{className:"font-medium text-primary",children:e.title}),e.description&&(0,a.jsx)("div",{className:"text-sm text-gray-400 mt-1 line-clamp-2",children:e.description}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:new URL(e.uri).hostname})]})]})}if("app.bsky.embed.record#view"===t.$type){let e=t.record;if("app.bsky.embed.record#viewRecord"===e.$type){let t=e.author,r=e.value;return(0,a.jsxs)("div",{className:"mt-2 border border-primary/20 rounded p-3 bg-white/5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[t.avatar&&(0,a.jsx)("img",{src:t.avatar,alt:t.displayName||t.handle,className:"w-6 h-6 rounded-full"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"font-medium",children:t.displayName||t.handle}),(0,a.jsxs)("span",{className:"text-gray-500 ml-1",children:["@",t.handle]})]})]}),(0,a.jsx)("div",{className:"text-sm",children:r.text})]})}}return"app.bsky.embed.recordWithMedia#view"===t.$type?(0,a.jsxs)(a.Fragment,{children:[t.media&&(0,a.jsx)(p,{embed:t.media}),t.record&&(0,a.jsx)(p,{embed:t.record})]}):(0,a.jsx)("div",{className:"mt-2 p-3 border border-primary/20 rounded text-sm text-gray-400",children:(0,a.jsxs)("em",{children:["Unsupported embed type: ",t.$type]})})}function h(e){let{thread:t,depth:r=0}=e;if(!t||!t.post)return null;let s=t.post,l=s.author,n=s.record,i="https://bsky.app/profile/".concat(l.handle,"/post/").concat(s.uri.split("/").pop());return(0,a.jsxs)("div",{className:"border-l-2 border-primary/20 pl-4 mb-4",style:{marginLeft:12*r},children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 mb-2",children:[l.avatar&&(0,a.jsx)("a",{href:"https://bsky.app/profile/".concat(l.handle),target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)("img",{src:l.avatar,alt:l.displayName||l.handle,className:"w-10 h-10 rounded-full"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)("a",{href:"https://bsky.app/profile/".concat(l.handle),target:"_blank",rel:"noopener noreferrer",className:"font-medium hover:text-primary transition-colors",children:l.displayName||l.handle}),(0,a.jsxs)("span",{className:"text-gray-500 text-sm",children:["@",l.handle]}),(0,a.jsx)("span",{className:"text-gray-600 text-sm",children:"\xb7"}),(0,a.jsx)("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 text-sm hover:text-primary transition-colors",children:(e=>{let t=new Date(e),r=Math.floor((new Date-t)/1e3);return r<60?"".concat(r,"s"):r<3600?"".concat(Math.floor(r/60),"m"):r<86400?"".concat(Math.floor(r/3600),"h"):r<604800?"".concat(Math.floor(r/86400),"d"):t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})(n.createdAt)})]}),(0,a.jsx)("div",{className:"mt-2 whitespace-pre-wrap break-words",children:n.text}),s.embed&&(0,a.jsx)(p,{embed:s.embed}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[s.replyCount>0&&(0,a.jsxs)("span",{children:["\uD83D\uDCAC ",s.replyCount]}),s.repostCount>0&&(0,a.jsxs)("span",{children:["\uD83D\uDD01 ",s.repostCount]}),s.likeCount>0&&(0,a.jsxs)("span",{children:["❤️ ",s.likeCount]})]})]})]}),r<5&&t.replies&&t.replies.length>0&&(0,a.jsx)("div",{className:"mt-3",children:t.replies.map((e,t)=>(0,a.jsx)(h,{thread:e,depth:r+1},t))}),r>=5&&t.replies&&t.replies.length>0&&(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500 italic",children:["Thread continues on"," ",(0,a.jsx)("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Bluesky"}),"..."]})]})}function x(e){let{uri:t,author:r}=e,[s,l]=(0,d.useState)(null),[n,i]=(0,d.useState)(!0),[c,o]=(0,d.useState)(null);if((0,d.useEffect)(()=>{if(!t){i(!1);return}(async()=>{try{i(!0),o(null);let e=new m.BskyAgent({service:"https://public.api.bsky.app"}),r=await e.getPostThread({uri:t,depth:10});l(r.data.thread)}catch(e){console.error("Error fetching Bluesky thread:",e),o("Failed to load comments. Please try again later.")}finally{i(!1)}})()},[t]),!t)return null;let p=t?"https://bsky.app/profile/".concat(r||"unknown","/post/").concat(t.split("/").pop()):"#";return(0,a.jsxs)("div",{className:"mt-12 pt-8 border-t border-primary/20",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Comments"}),(0,a.jsxs)("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"})}),"Comment on Bluesky"]})]}),n&&(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),c&&(0,a.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded p-4 text-red-400",children:c}),!n&&!c&&s&&(0,a.jsx)(a.Fragment,{children:s.replies&&s.replies.length>0?(0,a.jsx)("div",{className:"space-y-2",children:s.replies.map((e,t)=>(0,a.jsx)(h,{thread:e,depth:0},t))}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:["No comments yet. Be the first to"," ",(0,a.jsx)("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"comment on Bluesky"}),"!"]})})]})}var u=r(83454),y=!0;function j(e){let{post:t}=e;if(!t)return null;let r=u.env.NEXT_PUBLIC_SITE_URL||"https://alexcarvalho.me",l="".concat(r,"/blog/").concat(t.slug),i=t.image?"".concat(r).concat((0,o.al)(t.image)):null;return(0,a.jsxs)(s.Z,{children:[(0,a.jsxs)(n(),{children:[(0,a.jsxs)("title",{children:[t.title," | Alex Carvalho"]}),(0,a.jsx)("meta",{name:"title",content:t.title}),(0,a.jsx)("meta",{name:"description",content:t.excerpt}),(0,a.jsx)("meta",{property:"og:type",content:"article"}),(0,a.jsx)("meta",{property:"og:url",content:l}),(0,a.jsx)("meta",{property:"og:title",content:t.title}),(0,a.jsx)("meta",{property:"og:description",content:t.excerpt}),i&&(0,a.jsx)("meta",{property:"og:image",content:i}),(0,a.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{property:"twitter:url",content:l}),(0,a.jsx)("meta",{property:"twitter:title",content:t.title}),(0,a.jsx)("meta",{property:"twitter:description",content:t.excerpt}),i&&(0,a.jsx)("meta",{property:"twitter:image",content:i}),(0,a.jsx)("meta",{property:"article:published_time",content:t.date}),t.tags&&t.tags.map((e,t)=>(0,a.jsx)("meta",{property:"article:tag",content:e},t))]}),(0,a.jsxs)("article",{className:"space-y-8",children:[(0,a.jsxs)("header",{className:"space-y-4",children:[(0,a.jsx)(c(),{href:"/blog",className:"text-primary-light hover:text-primary transition-colors",children:"← BACK TO BLOG"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-glow",children:t.title}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("time",{className:"text-primary-light",children:t.date}),(0,a.jsx)("div",{className:"flex gap-2",children:t.tags.map((e,t)=>(0,a.jsx)("span",{className:"text-xs px-2 py-1 bg-primary-dark text-primary border border-primary-medium",children:e},t))})]}),t.image&&(0,a.jsx)("div",{className:"relative h-64 w-full",children:(0,a.jsx)("img",{src:(0,o.al)(t.image),alt:t.title,className:"w-full h-full object-cover rounded-lg border border-primary-dark"})})]}),(0,a.jsx)("div",{className:"prose prose-invert prose-primary max-w-none",dangerouslySetInnerHTML:{__html:t.content}}),t.bsky&&t.bsky.uri&&(0,a.jsx)(x,{uri:t.bsky.uri,author:t.bsky.author})]})]})}}},function(e){e.O(0,[283,389,61,87,884,888,774,179],function(){return e(e.s=49937)}),_N_E=e.O()}]);